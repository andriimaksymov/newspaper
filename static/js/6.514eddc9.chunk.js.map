{"version":3,"sources":["components/layout/Navigation.js","components/layout/Header.js","components/layout/Footer.js","components/layout/index.js","components/ArticleItem.js","components/ArticleItemSkeleton.js","components/ArticleList.js","utils/hooks.js","components/PageHeader.js","components/Pagination.js","components/TopStories.js","pages/Articles.js"],"names":["useStyles","makeStyles","nav","margin","padding","link","fontSize","letterSpacing","textDecoration","textTransform","color","Navigation","classes","className","to","routes","home","articles","theme","root","logo","palette","primary","main","Header","Container","Grid","container","justifyContent","item","Divider","Footer","Layout","children","articleItem","marginTop","marginLeft","imageWrap","position","width","overflow","content","display","paddingBottom","top","left","sectionLink","ArticleItem","title","description","image","published_date","section","spacing","xs","md","Typography","variant","gutterBottom","format","Chip","clickable","size","label","component","Link","toLowerCase","src","alt","ArticleItemSkeleton","Box","mb","Stack","Skeleton","height","ArticleList","list","map","article","key","abstract","multimedia","url","i","memo","useQuery","URLSearchParams","useLocation","search","headerWrap","marginBottom","pageHeader","subtitle","PageHeader","PaginationRounded","count","pathname","query","history","useHistory","useState","page","setPage","Pagination","shape","hideNextButton","hidePrevButton","defaultPage","onChange","e","set","push","toString","stickyAside","flexDirection","maxHeight","header","asideList","flexGrow","paddingRight","topStory","number","flex","lineHeight","minWidth","TopStories","console","log","story","byline","Moment","Articles","type","match","params","slug_name","dispatch","useDispatch","useSelector","all","top_stories","charAt","toUpperCase","slice","setCount","location","config","value","ref","useRef","isEqual","current","useDeepEqualMemo","get","offset","useEffect","articlesFetchAction","topStoriesFetchAction","articlesClearAction","topStoriesClearAction","Math","round"],"mappings":"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","file":"static/js/6.514eddc9.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport routes from \"../../utils/routes\";\r\nimport { makeStyles } from \"@mui/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n\tnav: {\r\n\t\tmargin: '2rem -1rem 0',\r\n\t\tpadding: '.5rem 0'\r\n\t},\r\n\tlink: {\r\n\t\tfontSize: '.8rem',\r\n\t\tletterSpacing: '.05rem',\r\n\t\ttextDecoration: 'none',\r\n\t\ttextTransform: 'uppercase',\r\n\t\tpadding: '0.5rem 1rem',\r\n\t\tcolor: 'inherit'\r\n\t}\r\n});\r\n\r\nexport default function Navigation() {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<nav className={classes.nav}>\r\n\t\t\t<Link className={classes.link} to={routes.home}>Home</Link>\r\n\t\t\t<Link className={classes.link} to={routes.articles(\"all\")}>Articles</Link>\r\n\t\t</nav>\r\n\t)\r\n}","import { Link } from \"react-router-dom\";\r\nimport Container from \"@mui/material/Container\";\r\nimport Divider from \"@mui/material/Divider\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport makeStyles from \"@mui/styles/makeStyles\";\r\n\r\nimport routes from \"../../utils/routes\";\r\nimport Navigation from \"./Navigation\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tpadding: \"30px 0\"\r\n\t},\r\n\tlogo: {\r\n\t\tfontSize: '2rem',\r\n\t\ttextDecoration: 'none',\r\n\t\tcolor: 'inherit',\r\n\t\t'&:hover': {\r\n\t\t\tcolor: theme.palette.primary.main\r\n\t\t}\r\n\t}\r\n}));\r\n\r\nexport default function Header() {\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<header className={classes.root}>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container justifyContent=\"space-between\">\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Link to={routes.home} className={classes.logo}>NewsPaper</Link>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\tSome content\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Navigation />\r\n\t\t\t</Container>\r\n\t\t\t<Divider />\r\n\t\t</header>\r\n\t)\r\n}","import Container from \"@mui/material/Container\";\r\n\r\nexport default function Footer() {\r\n\treturn (\r\n\t\t<footer>\r\n\t\t\t<Container>\r\n\t\t\t\tfooter\r\n\t\t\t</Container>\r\n\t\t</footer>\r\n\t)\r\n}","import Container from \"@mui/material/Container\";\r\n\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\n\r\nexport default function Layout({ children }) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n\t\t\t<main>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Container>\r\n\t\t\t</main>\r\n\t\t\t<Footer />\r\n\t\t</>\r\n\t)\r\n}","import { Link } from \"react-router-dom\";\r\nimport Chip from \"@mui/material/Chip\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Moment from \"react-moment\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport routes from \"../utils/routes\";\r\n\r\nconst useStyles = makeStyles({\r\n\tarticleItem: {\r\n\t\t'& + $articleItem': {\r\n\t\t\tmarginTop: 20\r\n\t\t},\r\n\t\t'& $sectionLink': {\r\n\t\t\tmarginLeft: 10\r\n\t\t}\r\n\t},\r\n\timageWrap: {\r\n\t\tposition: 'relative',\r\n\t\twidth: 190,\r\n\t\toverflow: 'hidden',\r\n\t\t'&::after': {\r\n\t\t\tcontent: \"''\",\r\n\t\t\tdisplay: 'block',\r\n\t\t\tpaddingBottom: '56.25%',\r\n\t\t},\r\n\t\t'& img': {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t}\r\n\t},\r\n\tsectionLink: {\r\n\t\tmarginLeft: 10\r\n\t}\r\n});\r\n\r\nexport default function ArticleItem({ title, description, image, published_date, section }) {\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.articleItem}>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={8} md>\r\n\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n\t\t\t\t\t\t{description}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant=\"body2\" color=\"text.secondary\">\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Moment format=\"MMMM D, Y\">\r\n\t\t\t\t\t\t\t\t{published_date}\r\n\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t{section && <Chip\r\n\t\t\t\t\t\t\tclickable\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tlabel={section}\r\n\t\t\t\t\t\t\tclassName={classes.sectionLink}\r\n\t\t\t\t\t\t\tcomponent={Link}\r\n\t\t\t\t\t\t\tto={routes.articles(section.toLowerCase())}\r\n\t\t\t\t\t\t/>}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={4} md=\"auto\">\r\n\t\t\t\t\t<div className={classes.imageWrap}>\r\n\t\t\t\t\t\t<img src={image} alt={title} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}","import Box from \"@mui/material/Box\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Skeleton from \"@mui/material/Skeleton\";\r\n\r\nexport default function ArticleItemSkeleton() {\r\n\treturn (\r\n\t\t<Box mb={2}>\r\n\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t<Grid item xs={8} md>\r\n\t\t\t\t\t<Stack spacing={1}>\r\n\t\t\t\t\t\t<Skeleton variant=\"text\" />\r\n\t\t\t\t\t\t<Skeleton variant=\"text\" height={20} />\r\n\t\t\t\t\t\t<Skeleton variant=\"text\" width={200} />\r\n\t\t\t\t\t</Stack>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={4} md=\"auto\">\r\n\t\t\t\t\t<Skeleton variant=\"rectangular\" width={190} height={107} />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Box>\r\n\t)\r\n}","import { memo } from \"react\";\r\nimport ArticleItem from \"./ArticleItem\";\r\nimport ArticleItemSkeleton from \"./ArticleItemSkeleton\";\r\n\r\nconst ArticleList = ({ list }) => {\r\n\treturn (\r\n\t\tlist\r\n\t\t\t? list.map((article, key) =>\r\n\t\t\t\t<ArticleItem\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\ttitle={article.title}\r\n\t\t\t\t\tsection={article.section}\r\n\t\t\t\t\tdescription={article.abstract}\r\n\t\t\t\t\tpublished_date={article.published_date}\r\n\t\t\t\t\timage={article.multimedia?.[3]?.url}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t\t: [1, 2, 3].map(i => <ArticleItemSkeleton key={i} />)\r\n\t)\r\n};\r\n\r\nexport default memo(ArticleList);","import { useRef } from 'react'\r\nimport { isEqual } from 'lodash'\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport const useQuery = () => new URLSearchParams(useLocation().search);\r\n\r\nexport function useDeepEqualMemo(value) {\r\n\tconst ref = useRef(null);\r\n\t\r\n\tif (!isEqual(ref.current, value)) {\r\n\t\tref.current = value\r\n\t}\r\n\t\r\n\treturn ref.current\r\n}","import Typography from \"@mui/material/Typography\";\r\nimport { makeStyles } from \"@mui/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n\theaderWrap: {\r\n\t\tmarginBottom: 30\r\n\t},\r\n\tpageHeader: {\r\n\t\ttextDecoration: 'underline',\r\n\t},\r\n\tsubtitle: {\r\n\t\tfontSize: 12\r\n\t}\r\n});\r\n\r\nexport default function PageHeader({ title }) {\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.headerWrap}>\r\n\t\t\t<span className={classes.subtitle}>CATEGORIES</span>\r\n\t\t\t<Typography className={classes.pageHeader} variant=\"h5\" component=\"h2\">{title}</Typography>\r\n\t\t</div>\r\n\t)\r\n}","import { memo, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Pagination from '@mui/material/Pagination';\r\nimport Stack from '@mui/material/Stack';\r\n\r\nimport { useQuery } from \"../utils/hooks\";\r\n\r\nconst PaginationRounded = ({ count = 0, pathname }) => {\r\n\tconst query = useQuery();\r\n\tlet history = useHistory();\r\n\tconst [page, setPage] = useState(0);\r\n\r\n\tconst handleChangePage = (e, page) => {\r\n\t\tquery.set('page', page);\r\n\r\n\t\thistory.push({ pathname, search: query.toString() });\r\n\t\tsetPage(page);\r\n\t}\r\n\r\n\treturn (\r\n\t\tcount &&\r\n\t\t<Stack spacing={2}>\r\n\t\t\t<Pagination\r\n\t\t\t\tcount={count}\r\n\t\t\t\tpage={page}\r\n\t\t\t\tshape=\"rounded\"\r\n\t\t\t\thideNextButton\r\n\t\t\t\thidePrevButton\r\n\t\t\t\tdefaultPage={page}\r\n\t\t\t\tonChange={handleChangePage}\r\n\t\t\t/>\r\n\t\t</Stack>\r\n\t)\r\n};\r\n\r\nexport default memo(PaginationRounded);","import { memo } from \"react\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport Moment from \"react-moment\";\r\n\r\nconst useStyles = makeStyles({\r\n\tstickyAside: {\r\n\t\tposition: 'sticky',\r\n\t\ttop: 0,\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\tmaxHeight: '100vh',\r\n\t},\r\n\theader: {\r\n\t\tmarginBottom: '30px !important',\r\n\t},\r\n\tasideList: {\r\n\t\toverflow: 'auto',\r\n\t\tflexGrow: 1,\r\n\t\tpaddingRight: 10,\r\n\t},\r\n\ttopStory: {\r\n\t\tmarginBottom: 25,\r\n\t},\r\n\tnumber: {\r\n\t\tflex: '0 0 50px',\r\n\t\tfontSize: 30,\r\n\t\tlineHeight: 1.25,\r\n\t\tminWidth: 40,\r\n\t\tcolor: '#ccc',\r\n\t},\r\n});\r\n\r\nconst TopStories = ({ list }) => {\r\n\tconsole.log('top stories', list);\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<aside className={classes.stickyAside}>\r\n\t\t\t<Typography variant=\"h6\" className={classes.header} component=\"h4\">Popular Posts</Typography>\r\n\t\t\t<div className={classes.asideList}>\r\n\t\t\t\t{\r\n\t\t\t\t\tlist && list.list?.map((story, key) =>\r\n\t\t\t\t\t\t<Grid container spacing={1} className={classes.topStory} key={story.url}>\r\n\t\t\t\t\t\t\t<Grid item xs=\"auto\">\r\n\t\t\t\t\t\t\t\t<div className={classes.number}>\r\n\t\t\t\t\t\t\t\t\t{`${key < 9 ? '0' : ''}${key + 1}`}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs>\r\n\t\t\t\t\t\t\t\t<Typography gutterBottom variant=\"h6\" component=\"h4\">{story.title}</Typography>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body1\">{story.byline}</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" component={Moment} format=\"MMM D\">\r\n\t\t\t\t\t\t\t\t\t\t\t{story.published_date}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>,\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</aside>\r\n\t)\r\n};\r\n\r\nexport default memo(TopStories)","import { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport {\r\n    articlesClearAction,\r\n    articlesFetchAction,\r\n    topStoriesClearAction,\r\n    topStoriesFetchAction,\r\n} from \"../store/articles/actions\";\r\nimport { useDeepEqualMemo, useQuery } from \"../utils/hooks\";\r\nimport routes from \"../utils/routes\";\r\nimport Layout from \"../components/layout\";\r\nimport PageHeader from \"../components/PageHeader\";\r\nimport Pagination from \"../components/Pagination\";\r\nimport TopStories from \"../components/TopStories\";\r\nimport ArticleList from \"../components/ArticleList\";\r\n\r\nexport default function Articles({ match }) {\r\n    const type = match.params.slug_name;\r\n    const dispatch = useDispatch();\r\n    const { articles, top_stories } = useSelector(({ articles }) => ({\r\n        articles: articles.articles.all,\r\n        top_stories: articles.top_stories,\r\n    }));\r\n    const title = type.charAt(0).toUpperCase() + type.slice(1);\r\n    const [count, setCount] = useState(0);\r\n    const query = useQuery();\r\n    const location = useLocation();\r\n    const config = useDeepEqualMemo({ ...(query.get(\"page\") && { offset: query.get(\"page\") }) });\r\n\r\n    useEffect(() => {\r\n        dispatch(articlesFetchAction({ type, config }));\r\n        dispatch(topStoriesFetchAction({ type: \"home\" }));\r\n\r\n        return () => {\r\n            dispatch(articlesClearAction());\r\n            dispatch(topStoriesClearAction());\r\n        };\r\n    }, [dispatch, type, config, location]);\r\n\r\n    useEffect(() => setCount(Math.round(articles?.count / 20)), [articles?.count]);\r\n\r\n    return (\r\n        <Layout>\r\n            <Grid container spacing={5}>\r\n                <Grid item xs={12} md={8}>\r\n                    <PageHeader title={title} />\r\n                    <ArticleList\r\n                        list={articles?.list}\r\n                    />\r\n                    <Pagination\r\n                        count={count}\r\n                        pathname={routes.articles(type)}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} md={4}>\r\n                    <TopStories list={top_stories} />\r\n                </Grid>\r\n            </Grid>\r\n        </Layout>\r\n    );\r\n}"],"sourceRoot":""}